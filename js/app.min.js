!function(){App=Ember.Application.create()}(),function(){App.SandboxRoute=Ember.Mixin.create({setupController:function(a,b){this._super(a,b),this.controllerFor("editor",b).set("content",b),this.controllerFor("viewer",b).set("content",b)},renderTemplate:function(){this.render(this.routeName+"/nav",{outlet:"nav"}),this.render(this.routeName+"/main")}})}(),function(){App.DEFAULT_JS="App = Ember.Application.create();\n\nApp.Router.map(function() {\n  this.route('about');\n});\n\n// Your code here...",App.DEFAULT_HBS='<script type="text/x-handlebars">\n  <h1>Ember Sandbox</h1>\n\n  <nav>\n    {{#linkTo "index"}}Home{{/linkTo}}\n    {{#linkTo "about"}}About{{/linkTo}}\n  </nav>\n\n  {{outlet}}\n</script>\n\n<script type="text/x-handlebars" data-template-name="index">\n  <h2>Welcome</h2>\n  <p>Edit the code on the left and see the result right here.</p>\n  <p>All your code is kept in local storage, so itâ€™ll be here when you get back.</p>\n</script>\n\n<script type="text/x-handlebars" data-template-name="about">\n  <h2>About</h2>\n  <p>A little live editor for Ember, written in Ember.</p>\n</script>',App.DEFAULT_CSS="body {\n  padding: 1em;\n}\n\nnav .active {\n  font-weight: bold;\n}"}(),function(){App.ApplicationRoute=Ember.Route.extend({beforeModel:function(){this.controllerFor("user").set("content",App.User.create()),this.controllerFor("viewer").set("content",App.Sandbox.create())}})}(),function(){App.GistRoute=Ember.Route.extend(App.SandboxRoute,{serialize:function(a){return{user_login:a.get("userLogin"),gist_id:a.get("id")}},setupController:function(a,b){this._super(a,b)}}),App.GistIndexRoute=Ember.Route.extend({beforeModel:function(){this.transitionTo("gist.js")}}),App.GistJsRoute=App.GistHbsRoute=App.GistCssRoute=Ember.Route.extend({model:function(){return this.modelFor("gist")}})}(),function(){App.GistsRoute=Ember.Route.extend({model:function(){return this.controllerFor("user").get("gists")},renderTemplate:function(){this.render("gists/nav",{outlet:"nav"}),this.render("gists/main")}})}(),function(){App.LoadingRoute=Ember.Route.extend()}(),function(){App.LocalRoute=Ember.Route.extend(App.SandboxRoute,{model:function(){return App.Sandbox.create({js:localStorage.js||App.DEFAULT_JS,hbs:localStorage.hbs||App.DEFAULT_HBS,css:localStorage.css||App.DEFAULT_CSS})}}),App.LocalIndexRoute=Ember.Route.extend({beforeModel:function(){this.transitionTo("local.js")}}),App.LocalJsRoute=App.LocalHbsRoute=App.LocalCssRoute=Ember.Route.extend({model:function(){return this.modelFor("local")}})}(),function(){App.Router.map(function(){this.resource("local",{path:""},function(){this.route("js"),this.route("hbs"),this.route("css")}),this.resource("gists"),this.resource("gist",{path:":user_login/:gist_id"},function(){this.route("js"),this.route("hbs"),this.route("css")})})}(),function(){App.Gist=Ember.Object.extend({userLoginBinding:"user.login",js:function(){return this._getFileContent("app.js")}.property("files.@each"),hbs:function(){return this._getFileContent("templates.html")}.property("files.@each"),css:function(){return this._getFileContent("style.css")}.property("files.@each"),then:function(a,b){return this.load().then(a,b)},load:function(){var a=this;return this.promise||(this.promise=a._fetchData().then(function(b){return a.setProperties(b),a.then=a.promise=null,a})),this.promise},_fetchData:function(){return $.getJSON("https://api.github.com/gists/"+this.get("id"))},_getFileContent:function(a){var b=this.get("files")[a];return b&&b.content}}),App.Gist.reopenClass({find:function(a){return App.Gist.create({id:a})}})}(),function(){App.Sandbox=Ember.Object.extend()}(),function(){App.User=Ember.Object.extend({login:"jgwhite",gists:function(){return this._getJSON("gists").then(function(a){return a.map(function(a){return App.Gist.create(a)})})}.property(),_getJSON:function(a){return $.getJSON("https://api.github.com/users/"+this.get("login")+"/"+a)}})}(),function(){App.GistsController=Ember.ArrayController.extend({sandboxGists:Ember.computed.equal("isSandbox",!0)})}(),function(){App.LocalController=Ember.ObjectController.extend({jsDidChange:function(){localStorage.js=this.get("js")}.observes("js"),hbsDidChange:function(){localStorage.hbs=this.get("hbs")}.observes("hbs"),cssDidChange:function(){localStorage.css=this.get("css")}.observes("css")})}(),function(){App.UserController=Ember.ObjectController.extend()}(),function(){App.ViewerController=Ember.ObjectController.extend()}(),function(){App.AceView=Ember.View.extend({classNames:["ace-view"],theme:"ember",focus:!0,didInsertElement:function(){this._createEditor()},editorDidChange:function(){var a=this.get("editor");this.set("value",a.getValue())},_createEditor:function(){var a=ace.edit(this.get("element")),b=a.getSession();a.setTheme("ace/theme/"+this.get("theme")),a.setShowFoldWidgets(!1),a.setHighlightActiveLine(!1),a.setHighlightGutterLine(!1),b.setMode("ace/mode/"+this.get("mode")),b.setUseSoftTabs(!0),b.setTabSize(2),a.setValue(this.get("value")),a.getSelection().clearSelection(),this.get("focus")&&a.focus(),a.on("change",$.proxy(this,"editorDidChange")),this.set("editor",a)}})}(),function(){App.FrameView=Ember.View.extend({tagName:"iframe",src:"iframe.html",classNames:["pane","frame"],attributeBindings:["src"],contentDidChange:function(){if(this.get("isReady")){var a=this.get("element").contentWindow,b=this.get("content");Ember.run(function(){a.postMessage(b,"*")})}}.observes("content"),content:function(){return this.getProperties("js","hbs","css")}.property("js","hbs","css"),didInsertElement:function(){$(window).on("message",$.proxy(this,"messageReceived"))},messageReceived:function(a){"Ready!"===a.originalEvent.data&&(this.set("isReady",!0),this.notifyPropertyChange("content"))}})}(),function(){App.LoadingView=Ember.View.extend({classNames:["loading-view"],layout:Ember.Handlebars.compile('<div class="loading-message">{{yield}}</div>')})}(),function(){Ember.Handlebars.helper("ace",App.AceView),Ember.Handlebars.helper("frame",App.FrameView)}(),Ember.TEMPLATES.application=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return e.buffer.push('<section class="pane global" id="editor">\n  <header>\n    <span class="title">Editor</span>\n    <nav>\n      '),g={},h={},i={hash:{},contexts:[b],types:["STRING"],hashContexts:h,hashTypes:g,data:e},e.buffer.push(l((f=c.outlet||b.outlet,f?f.call(b,"nav",i):k.call(b,"outlet","nav",i)))),e.buffer.push('\n    </nav>\n  </header>\n  <section class="main">\n    '),g={},h={},e.buffer.push(l(c._triageMustache.call(b,"outlet",{hash:{},contexts:[b],types:["ID"],hashContexts:h,hashTypes:g,data:e}))),e.buffer.push('\n  </section>\n</section>\n\n<section class="pane global" id="viewer">\n  <header>\n    <span class="title">Viewer</span>\n    <a href="http://emberjs.com" class="ember-link">\n      <img src="img/tomster.png" alt="Ember.js">\n    </a>\n  </header>\n  <section class="main">\n    '),g={},h={},i={hash:{},contexts:[b],types:["STRING"],hashContexts:h,hashTypes:g,data:e},e.buffer.push(l((f=c.render||b.render,f?f.call(b,"viewer",i):k.call(b,"render","viewer",i)))),e.buffer.push('\n  </section>\n</section>\n\n<footer>\n  <a href="http://github.com/jgwhite/ember-sandbox">View the source on GitHub &rarr;</a>\n</footer>\n'),j}),Ember.TEMPLATES.error=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{},e.buffer.push("Whoops :(\n")}),Ember.TEMPLATES["gist/css"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"css",mode:"css"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["gist/hbs"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"hbs",mode:"html"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["gist/js"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"js",mode:"javascript"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["gist/main"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h="",i=this.escapeExpression;return f={},g={},e.buffer.push(i(c._triageMustache.call(b,"outlet",{hash:{},contexts:[b],types:["ID"],hashContexts:g,hashTypes:f,data:e}))),e.buffer.push("\n"),h}),Ember.TEMPLATES["gist/nav"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){b.buffer.push("JS")}function g(a,b){b.buffer.push("HBS")}function h(a,b){b.buffer.push("CSS")}function i(a,b){b.buffer.push("Gists")}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var j,k,l,m,n,o="",p=this,q=c.helperMissing;return l={},m={},n={hash:{},inverse:p.noop,fn:p.program(1,f,e),contexts:[b],types:["STRING"],hashContexts:m,hashTypes:l,data:e},j=c.linkTo||b.linkTo,k=j?j.call(b,"gist.js",n):q.call(b,"linkTo","gist.js",n),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n"),l={},m={},n={hash:{},inverse:p.noop,fn:p.program(3,g,e),contexts:[b],types:["STRING"],hashContexts:m,hashTypes:l,data:e},j=c.linkTo||b.linkTo,k=j?j.call(b,"gist.hbs",n):q.call(b,"linkTo","gist.hbs",n),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n"),l={},m={},n={hash:{},inverse:p.noop,fn:p.program(5,h,e),contexts:[b],types:["STRING"],hashContexts:m,hashTypes:l,data:e},j=c.linkTo||b.linkTo,k=j?j.call(b,"gist.css",n):q.call(b,"linkTo","gist.css",n),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n"),l={},m={},n={hash:{},inverse:p.noop,fn:p.program(7,i,e),contexts:[b],types:["STRING"],hashContexts:m,hashTypes:l,data:e},j=c.linkTo||b.linkTo,k=j?j.call(b,"gists",n):q.call(b,"linkTo","gists",n),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n"),o}),Ember.TEMPLATES["gists/main"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h,i,j="";return b.buffer.push("\n    <li>\n      "),f={},h={},i={hash:{},inverse:m.noop,fn:m.program(2,g,b),contexts:[a,a],types:["STRING","ID"],hashContexts:h,hashTypes:f,data:b},d=c.linkTo||a.linkTo,e=d?d.call(a,"gist","gist",i):n.call(a,"linkTo","gist","gist",i),(e||0===e)&&b.buffer.push(e),b.buffer.push("\n    </li>\n  "),j}function g(a,b){var d,e;d={},e={},b.buffer.push(l(c._triageMustache.call(a,"gist.description",{hash:{},contexts:[a],types:["ID"],hashContexts:e,hashTypes:d,data:b})))}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var h,i,j,k="",l=this.escapeExpression,m=this,n=c.helperMissing;return e.buffer.push("<ul>\n  "),i={},j={},h=c.each.call(b,"gist","in","controller",{hash:{},inverse:m.noop,fn:m.program(1,f,e),contexts:[b,b,b],types:["ID","ID","ID"],hashContexts:j,hashTypes:i,data:e}),(h||0===h)&&e.buffer.push(h),e.buffer.push("\n</ul>\n"),k}),Ember.TEMPLATES["gists/nav"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){b.buffer.push("Gists")}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var g,h,i,j,k,l="",m=this,n=c.helperMissing;return i={},j={},k={hash:{},inverse:m.noop,fn:m.program(1,f,e),contexts:[b],types:["STRING"],hashContexts:j,hashTypes:i,data:e},g=c.linkTo||b.linkTo,h=g?g.call(b,"gists",k):n.call(b,"linkTo","gists",k),(h||0===h)&&e.buffer.push(h),e.buffer.push("\n"),l}),Ember.TEMPLATES.loading=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{},e.buffer.push("Loadingâ€¦\n")}),Ember.TEMPLATES["local/css"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"css",mode:"css"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["local/hbs"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"hbs",mode:"html"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["local/js"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"js",mode:"javascript"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["local/main"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h="",i=this.escapeExpression;return f={},g={},e.buffer.push(i(c._triageMustache.call(b,"outlet",{hash:{},contexts:[b],types:["ID"],hashContexts:g,hashTypes:f,data:e}))),e.buffer.push("\n"),h}),Ember.TEMPLATES["local/nav"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){b.buffer.push("JS")}function g(a,b){b.buffer.push("HBS")}function h(a,b){b.buffer.push("CSS")}function i(a,b){b.buffer.push("Gists")}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var j,k,l,m,n,o="",p=this,q=c.helperMissing;return l={},m={},n={hash:{},inverse:p.noop,fn:p.program(1,f,e),contexts:[b],types:["STRING"],hashContexts:m,hashTypes:l,data:e},j=c.linkTo||b.linkTo,k=j?j.call(b,"local.js",n):q.call(b,"linkTo","local.js",n),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n"),l={},m={},n={hash:{},inverse:p.noop,fn:p.program(3,g,e),contexts:[b],types:["STRING"],hashContexts:m,hashTypes:l,data:e},j=c.linkTo||b.linkTo,k=j?j.call(b,"local.hbs",n):q.call(b,"linkTo","local.hbs",n),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n"),l={},m={},n={hash:{},inverse:p.noop,fn:p.program(5,h,e),contexts:[b],types:["STRING"],hashContexts:m,hashTypes:l,data:e},j=c.linkTo||b.linkTo,k=j?j.call(b,"local.css",n):q.call(b,"linkTo","local.css",n),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n"),l={},m={},n={hash:{},inverse:p.noop,fn:p.program(7,i,e),contexts:[b],types:["STRING"],hashContexts:m,hashTypes:l,data:e},j=c.linkTo||b.linkTo,k=j?j.call(b,"gists",n):q.call(b,"linkTo","gists",n),(k||0===k)&&e.buffer.push(k),e.buffer.push("\n"),o}),Ember.TEMPLATES.viewer=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={jsBinding:b,hbsBinding:b,cssBinding:b},h={jsBinding:"STRING",hbsBinding:"STRING",cssBinding:"STRING"},i={hash:{jsBinding:"js",hbsBinding:"hbs",cssBinding:"css"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.frame||b.frame,f?f.call(b,i):k.call(b,"frame",i)))),e.buffer.push("\n"),j});