!function(){App=Ember.Application.create()}(),function(){App.EditorResourceController=Ember.ObjectController.extend({needs:["editor"],contentBinding:"controllers.editor.content"})}(),function(){App.SandboxRoute=Ember.Mixin.create({setupController:function(a,b){this._super(a,b),this.controllerFor("editor",b).set("content",b),this.controllerFor("viewer",b).set("content",b)},renderTemplate:function(){this.render(this.routeName+"/nav",{outlet:"nav"}),this.render()}})}(),function(){App.DEFAULT_JS="App = Ember.Application.create();\n\nApp.Router.map(function() {\n  this.route('about');\n});\n\n// Your code here...",App.DEFAULT_HBS='<script type="text/x-handlebars">\n  <h1>Ember Sandbox</h1>\n\n  <nav>\n    {{#linkTo index}}Home{{/linkTo}}\n    {{#linkTo about}}About{{/linkTo}}\n  </nav>\n\n  {{outlet}}\n</script>\n\n<script type="text/x-handlebars" data-template-name="index">\n  <h2>Welcome</h2>\n  <p>Edit the code on the left and see the result right here.</p>\n  <p>All your code is kept in local storage, so it’ll be here when you get back.</p>\n</script>\n\n<script type="text/x-handlebars" data-template-name="about">\n  <h2>About</h2>\n  <p>A little live editor for Ember, written in Ember.</p>\n</script>',App.DEFAULT_CSS="body {\n  padding: 1em;\n}\n\nnav .active {\n  font-weight: bold;\n}"}(),function(){App.GistIndexRoute=Ember.Route.extend({beforeModel:function(){this.transitionTo("gist.js",this.modelFor("gist"))}})}(),function(){App.GistRoute=Ember.Route.extend(App.SandboxRoute,{model:function(a){return $.getJSON("https://api.github.com/gists/"+a.gist_id).then(function(a){return App.Sandbox.create({user_login:a.user.login,gist_id:a.id,js:a.files["app.js"].content,hbs:a.files["templates.html"].content,css:a.files["style.css"].content})})},serialize:function(a){return a.getProperties("user_login","gist_id")}})}(),function(){App.LoadingRoute=Ember.Route.extend()}(),function(){App.LocalIndexRoute=Ember.Route.extend({beforeModel:function(){this.transitionTo("local.js")}})}(),function(){App.LocalRoute=Ember.Route.extend(App.SandboxRoute,{model:function(){return App.Sandbox.create({js:localStorage.js||App.DEFAULT_JS,hbs:localStorage.hbs||App.DEFAULT_HBS,css:localStorage.css||App.DEFAULT_CSS})}})}(),function(){App.Router.map(function(){this.resource("local",{path:""},function(){this.route("js"),this.route("hbs"),this.route("css")}),this.resource("gist",{path:":user_login/:gist_id"},function(){this.route("js"),this.route("hbs"),this.route("css")})})}(),function(){App.Sandbox=Ember.Object.extend()}(),function(){App.GistCssController=App.EditorResourceController.extend()}(),function(){App.GistHbsController=App.EditorResourceController.extend()}(),function(){App.GistJsController=App.EditorResourceController.extend()}(),function(){App.LocalController=Ember.ObjectController.extend({jsDidChange:function(){localStorage.js=this.get("js")}.observes("js"),hbsDidChange:function(){localStorage.hbs=this.get("hbs")}.observes("hbs"),cssDidChange:function(){localStorage.css=this.get("css")}.observes("css")})}(),function(){App.LocalCssController=App.EditorResourceController.extend()}(),function(){App.LocalHbsController=App.EditorResourceController.extend()}(),function(){App.LocalJsController=App.EditorResourceController.extend()}(),function(){App.AceView=Ember.View.extend({classNames:["ace-view"],theme:"ember",focus:!0,didInsertElement:function(){this._createEditor()},editorDidChange:function(){var a=this.get("editor");this.set("value",a.getValue())},_createEditor:function(){var a=ace.edit(this.get("element")),b=a.getSession();a.setTheme("ace/theme/"+this.get("theme")),a.setShowFoldWidgets(!1),a.setHighlightActiveLine(!1),a.setHighlightGutterLine(!1),b.setMode("ace/mode/"+this.get("mode")),b.setUseSoftTabs(!0),b.setTabSize(2),a.setValue(this.get("value")),a.getSelection().clearSelection(),this.get("focus")&&a.focus(),a.on("change",$.proxy(this,"editorDidChange")),this.set("editor",a)}})}(),function(){App.FrameView=Ember.View.extend({tagName:"iframe",src:"iframe.html",classNames:["pane","frame"],attributeBindings:["src"],contentDidChange:function(){if(this.get("isReady")){var a=this.get("element").contentWindow,b=this.get("content");Ember.run(function(){a.postMessage(b,"*")})}}.observes("content"),content:function(){return this.getProperties("js","hbs","css")}.property("js","hbs","css"),didInsertElement:function(){$(window).on("message",$.proxy(this,"messageReceived"))},messageReceived:function(a){"Ready!"===a.originalEvent.data&&(this.set("isReady",!0),this.notifyPropertyChange("content"))}})}(),function(){App.LoadingView=Ember.View.extend({classNames:["loading-view"],layout:Ember.Handlebars.compile('<div class="loading-message">{{yield}}</div>')})}(),function(){Ember.Handlebars.helper("ace",App.AceView),Ember.Handlebars.helper("frame",App.FrameView)}(),Ember.TEMPLATES.application=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return e.buffer.push('<section class="pane global" id="editor">\n  <header>\n    <span class="title">Editor</span>\n    <nav>\n      '),g={},h={},i={hash:{},contexts:[b],types:["STRING"],hashContexts:h,hashTypes:g,data:e},e.buffer.push(l((f=c.outlet||b.outlet,f?f.call(b,"nav",i):k.call(b,"outlet","nav",i)))),e.buffer.push('\n    </nav>\n  </header>\n  <section class="main">\n    '),g={},h={},e.buffer.push(l(c._triageMustache.call(b,"outlet",{hash:{},contexts:[b],types:["ID"],hashContexts:h,hashTypes:g,data:e}))),e.buffer.push('\n  </section>\n</section>\n\n<section class="pane global" id="viewer">\n  <header>\n    <span class="title">Viewer</span>\n    <a href="http://emberjs.com" class="ember-link">\n      <img src="img/tomster.png" alt="Ember.js">\n    </a>\n  </header>\n  <section class="main">\n    '),g={},h={},i={hash:{},contexts:[b],types:["STRING"],hashContexts:h,hashTypes:g,data:e},e.buffer.push(l((f=c.render||b.render,f?f.call(b,"viewer",i):k.call(b,"render","viewer",i)))),e.buffer.push('\n  </section>\n</section>\n\n<footer>\n  <a href="http://github.com/jgwhite/ember-sandbox">View the source on GitHub &rarr;</a>\n</footer>\n'),j}),Ember.TEMPLATES.gist=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h="",i=this.escapeExpression;return f={},g={},e.buffer.push(i(c._triageMustache.call(b,"outlet",{hash:{},contexts:[b],types:["ID"],hashContexts:g,hashTypes:f,data:e}))),e.buffer.push("\n"),h}),Ember.TEMPLATES["gist/css"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"css",mode:"css"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["gist/hbs"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"hbs",mode:"html"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["gist/js"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"js",mode:"javascript"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["gist/nav"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){b.buffer.push("JS")}function g(a,b){b.buffer.push("HBS")}function h(a,b){b.buffer.push("CSS")}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var i,j,k,l,m,n="",o=this,p=c.helperMissing;return k={},l={},m={hash:{},inverse:o.noop,fn:o.program(1,f,e),contexts:[b],types:["STRING"],hashContexts:l,hashTypes:k,data:e},i=c.linkTo||b.linkTo,j=i?i.call(b,"gist.js",m):p.call(b,"linkTo","gist.js",m),(j||0===j)&&e.buffer.push(j),e.buffer.push("\n"),k={},l={},m={hash:{},inverse:o.noop,fn:o.program(3,g,e),contexts:[b],types:["STRING"],hashContexts:l,hashTypes:k,data:e},i=c.linkTo||b.linkTo,j=i?i.call(b,"gist.hbs",m):p.call(b,"linkTo","gist.hbs",m),(j||0===j)&&e.buffer.push(j),e.buffer.push("\n"),k={},l={},m={hash:{},inverse:o.noop,fn:o.program(5,h,e),contexts:[b],types:["STRING"],hashContexts:l,hashTypes:k,data:e},i=c.linkTo||b.linkTo,j=i?i.call(b,"gist.css",m):p.call(b,"linkTo","gist.css",m),(j||0===j)&&e.buffer.push(j),e.buffer.push("\n"),n}),Ember.TEMPLATES.loading=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{},e.buffer.push("Loading…\n")}),Ember.TEMPLATES.local=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h="",i=this.escapeExpression;return f={},g={},e.buffer.push(i(c._triageMustache.call(b,"outlet",{hash:{},contexts:[b],types:["ID"],hashContexts:g,hashTypes:f,data:e}))),e.buffer.push("\n"),h}),Ember.TEMPLATES["local/css"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"css",mode:"css"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["local/hbs"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"hbs",mode:"html"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["local/js"]=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={valueBinding:b,mode:b},h={valueBinding:"STRING",mode:"STRING"},i={hash:{valueBinding:"js",mode:"javascript"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.ace||b.ace,f?f.call(b,i):k.call(b,"ace",i)))),e.buffer.push("\n"),j}),Ember.TEMPLATES["local/nav"]=Ember.Handlebars.template(function(a,b,c,d,e){function f(a,b){b.buffer.push("JS")}function g(a,b){b.buffer.push("HBS")}function h(a,b){b.buffer.push("CSS")}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var i,j,k,l,m,n="",o=this,p=c.helperMissing;return k={},l={},m={hash:{},inverse:o.noop,fn:o.program(1,f,e),contexts:[b],types:["STRING"],hashContexts:l,hashTypes:k,data:e},i=c.linkTo||b.linkTo,j=i?i.call(b,"local.js",m):p.call(b,"linkTo","local.js",m),(j||0===j)&&e.buffer.push(j),e.buffer.push("\n"),k={},l={},m={hash:{},inverse:o.noop,fn:o.program(3,g,e),contexts:[b],types:["STRING"],hashContexts:l,hashTypes:k,data:e},i=c.linkTo||b.linkTo,j=i?i.call(b,"local.hbs",m):p.call(b,"linkTo","local.hbs",m),(j||0===j)&&e.buffer.push(j),e.buffer.push("\n"),k={},l={},m={hash:{},inverse:o.noop,fn:o.program(5,h,e),contexts:[b],types:["STRING"],hashContexts:l,hashTypes:k,data:e},i=c.linkTo||b.linkTo,j=i?i.call(b,"local.css",m):p.call(b,"linkTo","local.css",m),(j||0===j)&&e.buffer.push(j),e.buffer.push("\n"),n}),Ember.TEMPLATES.viewer=Ember.Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,Ember.Handlebars.helpers),e=e||{};var f,g,h,i,j="",k=c.helperMissing,l=this.escapeExpression;return g={jsBinding:b,hbsBinding:b,cssBinding:b},h={jsBinding:"STRING",hbsBinding:"STRING",cssBinding:"STRING"},i={hash:{jsBinding:"js",hbsBinding:"hbs",cssBinding:"css"},contexts:[],types:[],hashContexts:g,hashTypes:h,data:e},e.buffer.push(l((f=c.frame||b.frame,f?f.call(b,i):k.call(b,"frame",i)))),e.buffer.push("\n"),j});